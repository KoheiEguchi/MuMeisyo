<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout::head('ユーザー情報')"></head>
<body>
	<div th:replace="layout::header"></div>
	<div class="container">
		<div th:each="user: ${userData}" th:object=${user}>
			<div class="h1 mt-4"><span th:text="*{name}"></span>様の情報</div>
			<div class="alert alert-danger w-100" th:if="${msg}" th:text="${msg}"></div>
			<p>ユーザー名：<span th:text="*{name}"></span></p>
			<p>登録日時：<span th:text="*{#calendars.format(createDate, 'yyyy年M月d日 h時m分s秒')}"></span></p>
			<p>更新日時：<span th:text="*{#calendars.format(updateDate, 'yyyy年M月d日 h時m分s秒')}"></span></p>
		</div>
		<div class="row">
			<div class="my-4" th:each="place: ${placeList}" th:object=${place}>
				<div class="col-md-6 col-xs-12">
					<div th:replace="layout::picTextDate"></div>
					<p>高評価数：<span th:text="*{good}"></span></p>
				</div>
			</div>
		</div>
		<a th:href="@{/top}"><input class="btn btn-success shadow" type="button" value="戻る"></a>
		<div th:if="${myData != null}">
			<div class="mt-4">ユーザー情報変更</div>
			<div th:if="${newUserDetail == null}">
				<form th:action="@{/userDetailCheck}" method="post">
					<p>パスワード</p>
					<input type="password" name="password">
					<input class="btn btn-primary shadow my-3" type="submit" value="確認">
				</form>
			</div>
			<div th:if="${newUserDetail != null}">
				<div class="row">
					<form th:action="@{/newUserDetail}" th:object="${newUserDetail}" method="post">
						<div class="col-md-4 col-xs-1"></div>
						<div class="col-md-4 col-xs-10">
							<div th:replace="layout::createOrUpdate"></div>
							<input class="btn btn-primary shadow my-3" type="submit" value="変更">
						</div>
						<div class="col-md-4 col-xs-1"></div>
					</form>
				</div>
			</div>
			<div class="mt-5"><a th:href="@{/userDelete}"><input class="btn btn-danger shadow" type="button" value="退会する"></a></div>
		</div>
	</div>
	<div th:replace="layout::footer"></div>
</body>
</html>